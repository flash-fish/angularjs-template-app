<div class="subpage">
  <div class="hs-container top-content-box" ng-init="ctrl.init()">
    <section>
      <div class="row condition">
        <article class="col-sm-12">
          <header class="header top">
            <span>供应商加注缺品</span>
          </header>
          <div class="body">
            <div class="row input-choose">
              <div class="col-md-2">
                <input date-custom-picker class="form-control hs-date-picker month-picker" type="text"
                       opts="ctrl.dateOption" ng-model="ctrl.com.date" placeholder="日期" required readonly
                       ng-click="ctrl.tool.dateRange_click($event)" />
              </div>
              <div class="col-md-2">
                <search-box click="ctrl.openClasses()" data="ctrl.com.classes.val" key="'品类组'"></search-box>
              </div>
              <div class="col-md-2">
                <search-box click="ctrl.openCat()" data="ctrl.com.category.val" key="'类别'"></search-box>
              </div>
            </div>

            <div class="row input-choose">
              <div class="col-md-2 supplier-supply">
                <div class="col-md-7 supplier-label">
                  <label>
                    <input type="checkbox" class="checkbox" ng-model="ctrl.com.stockOutSkuFlag"
                           ng-change="ctrl.change()">
                    <span>加注缺品SKU数</span>
                  </label>
                </div>
                <div class="col-md-5 supplier-box">
                  <select class="form-control select" ng-model="ctrl.stockOutSkuSelected"
                          ng-options="item for item in ctrl.stockOutSkuSelections">
                  </select>
                </div>
              </div>

              <div class="col-md-2 supplier-supply">
                <div class="col-md-7 supplier-label">
                  <label>
                    <input type="checkbox" class="checkbox" ng-model="ctrl.com.avgStockOutDaysFlag"
                           ng-change="ctrl.change()">
                    <span>平均加注缺品天数</span>
                  </label>
                </div>
                <div class="col-md-5 supplier-box">
                  <select class="form-control select" ng-model="ctrl.avgStockOutDaysSelected"
                          ng-options="item for item in ctrl.avgStockOutDaysSelections"></select>
                </div>
              </div>

              <div class="col-md-2 supplier-supply">
                <div class="col-md-7 supplier-label">
                  <label>
                    <input type="checkbox" class="checkbox" ng-model="ctrl.com.stockOutSkuAPctFlag"
                           ng-change="ctrl.change()">
                    <span>A类加注缺品占比</span>
                  </label>
                </div>
                <div class="col-md-5 supplier-box">
                  <select class="form-control select" ng-model="ctrl.stockOutSkuAPctSelected"
                          ng-options="item for item in ctrl.stockOutSkuAPctSelections"></select>
                </div>
              </div>
            </div>

            <div class="row input-choose" ng-show="ctrl.show">
              <div class="col-md-2">
                <search-box click="ctrl.openBrand()" data="ctrl.com.brand.val" key="'品牌'"></search-box>
              </div>
              <div class="col-md-2">
                <search-box click="ctrl.openItem()" data="ctrl.com.product.val" key="'商品'"></search-box>
              </div>
              <div class="col-md-2">
                <search-box click="ctrl.openSupplier()" data="ctrl.com.supplier.val" key="'供应商'"></search-box>
              </div>
            </div>

            <div class="input-choose">
              <split-line show="ctrl.show"></split-line>
            </div>

            <div style="margin-top: 15px" ng-show="ctrl.showSearchRes">
              <search-result-box keys="ctrl.sortCom"></search-result-box>
            </div>

            <div class="hs-search-box">
              <search-show show="ctrl.showSearchRes"></search-show>
              <hs-search search="ctrl.search()" finish="ctrl.back.finish"></hs-search>
            </div>
          </div>
        </article>
      </div>

      <div class="row">
        <article class="col-sm-12">
          <header class="header">
            <span>平均值</span>
          </header>
          <div class="box hs-subSupply" style="margin-bottom: 0">
            <div class="row">
              <div class="col-md-4" ng-repeat="list in ctrl.initTemp">
                <p class="area-value-one">
                  <span>{{list.name}}</span>
                </p>
                <p class="area-value-two" title="{{list.curr}}">
                  {{list.option}}
                </p>
              </div>
            </div>
          </div>
        </article>
      </div>
      <div class="row">
        <article class="col-sm-12">
          <header class="header">
            <span>加注缺品数据</span>
          </header>
          <div class="body popover-hover more-margin" ng-if="ctrl.com.date">
            <table datatable dt-options="ctrl.option" dt-columns="ctrl.column"
                   dt-instance="ctrl.instance"
                   class="table table-trend hs-table" width="100%">
            </table>
            <empty-table show="ctrl.back.empty"></empty-table>
          </div>
        </article>
      </div>
    </section>
  </div>
</div>
